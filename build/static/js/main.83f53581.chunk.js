(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),u=n.n(c),o=n(2),l=n(3),i=n.n(l),m="http://localhost:3001/api/persons",s=function(e){return i.a.post(m,e).then(function(e){return e.data})},d=function(){return i.a.get(m).then(function(e){return e.data})},f=function(e){return i.a.delete("".concat(m,"/").concat(e)).then(function(e){return e.data})},h=function(e,t){return i.a.put("".concat(m,"/").concat(e),t).then(function(e){return e.data})},b=function(e){var t=e.newQuery,n=e.handleQueryChange;return r.a.createElement("form",null,r.a.createElement("div",null,"Filter shown with",r.a.createElement("input",{value:t,onChange:n})))},v=function(e){var t=e.addName,n=e.newName,a=e.handleNameChange,c=e.newNumber,u=e.handleNumberChange;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"Name:",r.a.createElement("input",{value:n,onChange:a})),r.a.createElement("div",null,"Number:",r.a.createElement("input",{value:c,onChange:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},E=function(e){var t=e.isFiltering,n=e.persons,a=e.filteredList,c=e.deletePerson,u=function(e){var t=e.name,n=e.number,a=e.deletePerson;return r.a.createElement("li",{key:t},t," ",n,r.a.createElement("button",{onClick:a},"Delete"))},o=t?a:n;return r.a.createElement("div",null,o.map(function(e){return r.a.createElement(u,{key:e.name,name:e.name,number:e.number,deletePerson:function(){return c(e.id,e.name)}})}))},g=function(e){var t=e.message,n=t.content,a=t.status;if(!n)return null;var c={color:"success"===a?"green":"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};return r.a.createElement("div",{style:c},n)},p=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(""),l=Object(o.a)(u,2),i=l[0],m=l[1],p=Object(a.useState)(""),w=Object(o.a)(p,2),O=w[0],j=w[1],C=Object(a.useState)(""),y=Object(o.a)(C,2),N=y[0],S=y[1],k=Object(a.useState)(n),L=Object(o.a)(k,2),P=L[0],D=L[1],Q=Object(a.useState)(!1),F=Object(o.a)(Q,2),x=F[0],A=F[1],B=Object(a.useState)(""),J=Object(o.a)(B,2),z=J[0],I=J[1];Object(a.useEffect)(function(){d().then(function(e){return c(e)})},[]);Object(a.useEffect)(function(){var e=n.filter(function(e){return-1!==e.name.toLowerCase().indexOf(N.toLowerCase())});D(e)},[N]);var R=function(e,t){I({content:e,status:t}),setTimeout(function(){return I({content:"",status:""})},2500)},T=function(e,t){window.confirm("".concat(t.name," was already added to the contact list. Would you like to update it's phone number?"))&&h(e,t).then(function(t){c(n.map(function(n){return n.id!==e?n:t})),R("Updated ".concat(t.name," phone number"),"success")}).catch(function(a){R("".concat(t.name," was already removed from the server"),"error"),c(n.filter(function(t){return t.id!==e}))}),m(""),j("")};return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(g,{message:z}),r.a.createElement(b,{newQuery:N,handleQueryChange:function(e){e.target.value.length>0?A(!0):A(!1),S(e.target.value)}}),r.a.createElement("h2",null,"Add a new Contact"),r.a.createElement(v,{newName:i,handleNameChange:function(e){m(e.target.value)},newNumber:O,handleNumberChange:function(e){j(e.target.value)},addName:function(e){e.preventDefault();var t={name:i,number:O},a=n.find(function(e){return e.name.toLowerCase()===i.toLowerCase()});a?T(a.id,t):s(t).then(function(e){c(n.concat(e)),m(""),j(""),R("Added ".concat(e.name," to the contact list."),"success")})}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(E,{isFiltering:x,persons:n,filteredList:P,deletePerson:function(e,t){window.confirm("Delete ".concat(t,"?"))&&(f(e).then(c(n.filter(function(t){return t.id!==e}))),S(""),D([]),A(!1),R("Deleted ".concat(t," from the contact list"),"success"))}}))};u.a.render(r.a.createElement(p,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.83f53581.chunk.js.map